<!DOCTYPE html>
<html>
    

    <head>
        <!-- META SEO BOOST -->
        <meta name="description" content="BlockSizedX ‚Äì Explore Modern Website and Game Templates, Play Fun Games, Get it for free and cheap rates.">
        <meta name="keywords" content="BlockSized, BlockSizedX, fun games, 2D games, Godot projects, Website Templates ,Templates, Web templates, Web development, Blocks, blocksize, Block size, blocksized website">
        <meta name="author" content="BlockSizedX">
        <meta charset="UTF-8">

        <!-- Social Sharing -->
        <meta property="og:title" content="BlockSizedX - Website Templates, Games and more." />
        <meta property="og:description" content="Fun tech stuff by BlockSizedX! Explore games, Website templates, and join our growing community." />
        <meta property="og:image" content="/images/logo-without-text.png" />
        <meta property="og:url" content="https://blocksizedx.github.io" />
        <meta name="twitter:card" content="summary_large_image">

        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <!-- Firebase -->
        <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
        <title>BlockSized</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="icon" type="image/png" href="images/logo-without-text.png">

        <link rel="stylesheet" href="style.css">

    </head>

    <body>

        <div id="HOME"></div>

        <!--NAVBAR-->
        <nav class="navbar" id="nav_main">
            <div id="nav-flex-container">
                <h1><a href="index.html">BlockSizedX</a></h1>
                <div class="menu-toggle" id="menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>

                <div id="navlinks">
                    <a href="#HOME">HOME</a>
                    <div class="dropdown">
                        <a href="#templates">TEMPLATES</a>
                        <div class="dropdown-content">
                            <a href="#templates">All Templates</a>
                            <a href="#web-templates">Website Templates</a>
                            <a href="#game-templates">Game Templates</a>
                        </div>
                    </div>
                    
                    <a href="#projects">PROJECTS</a>
                    <a href="#about">ABOUT</a>
                    <div class="dropdown-c">
                        <a href="#contact">CONTACT US</a>
                        <div class="dropdown-content-c">
                            <a href="#comments">Comments</a>
                            <a href="#contact-info">Contact Info</a>
                            <a href="tel:+919961550562">Call Us <i class="fa fa-phone"></i></a>

                        </div>
                    </div>
                </div>
            </div>


        </nav>


        <!--HOME-->

        <div class="sec" id="home">

            <div id="container-home">
                

                <div class="card" id="home-card">
                    <img src="images/home_card.png" alt="card-home-png" width="300px">
                </div>
                <div id="home-text-lister-div">
                    <h2><span class="home-title">BlockSizedX</span></h2>
                    
                    <h1>THE BEST PLACE FOR HIGH QUALITY <br>PROJECTS, TEMPLATES and 2D GAMES.</h1>
                                        
                </div>
            </div>
            
            <p>
                You can play games by BlockSizedX here. You can get High Quality Website Templates, <br>
                2D Game templates, Game demos, and much more.
            </p>
            <div id="home-button-flex">
                
                <a href="#projects">PROJECTS</a>
                <a href="pages/news.html">üîπNEWS</a>
                <a href="#contact">COMMENTS & REVIEWS</a>
                <a href="#templates">TEMPLATES</a>
            </div>
            

        </div>

        

        <!--TEMPLATES-->
        <div class="sec" id="templates">
            <h2 class="sec-title">Our Templates</h2>
            <h4>High Quality Website and Game Templates at Free rate or special offer rate</h4>
            
            <div id="trending-template-web">
                <h1><i></i> TRENDING WEB TEMPLATE <i></i></h1>

                <div id="trending-flex">
                    <div class="template-card" style="margin-top: 20px;">
                        <img src="images/no-template.png" alt="Template 1">
                    </div>
                    <div style="margin: auto 0;">
                        <h2>Dark-Themed Business</h2>
                        <p>Pro style clean responsive <br>Business Website template</p>
                        <div style="display: flex; gap: 30px;">
                            <p style="color: rgb(255, 234, 160); font-weight: bold; font-size: 1.3rem; background-color: rgba(4, 27, 46, 0.68); padding: 2px 2px; border-radius: 5px;"><i class="fa fa-credit-card-alt" aria-hidden="true"></i> 89‚Çπ / 1$</p>
                            <a class="temp-card-a" href="">View Template</a>
                        </div>

                    </div>
                </div>

            </div>
            <h1 class="sec-title">Website Templates</h1>
            <div id="templates-container">

                <!-- Template Card 1 -->
                <div class="template-card">
                    <img src="images/no-template.png" alt="Template 1">
                    <h3>Portfolio Template</h3>
                    <p>Clean, modern portfolio design for developers & designers.</p>
                    <div id="template-card-last-flex">
                        <h5><i class="fa fa-credit-card-alt" aria-hidden="true"></i> NA‚Çπ / NA$</h5>
                        <a class="temp-card-a" href="">View Template</a>
                    </div>
                    
                </div>

                <!-- Template Card 2 -->
                <div class="template-card">
                    <img src="images/no-template.png" alt="Template 2">
                    <h3>Business Template</h3>
                    <p>Professional layout for startups, companies, and agencies.</p>
                    <div id="template-card-last-flex">
                        <h5><i class="fa fa-credit-card-alt" aria-hidden="true"></i> NA‚Çπ / NA$</h5>
                        <a class="temp-card-a" href="">View Template</a>
                    </div>
                </div>

                <!-- Add more cards here -->
            </div>
        </div>



        <!--PROJECTS-->
        <div class="sec" id="projects">

            <h1 class="sec-title">Our Projects and Games</h1>

        </div>

        <!--ABOUT-->
        <div class="sec" id="about">

            <h1 class="sec-title">About Us</h1>

        </div>

        <!--CONTACT-->
       <div class="sec" id="contact">

            <h2 class="sec-title">Contact Info</h2>
            <span id="contact-info"></span>
            <div class="contact-info">
                <div class="contact-item">
                <i class="fa fa-whatsapp"></i>
                <span><b>Whatsapp Channel: </b> <a style="text-decoration: none; color: antiquewhite;" href="https://whatsapp.com/channel/0029Vb6Ci3t4tRrsLpLiOf02">Click To Join Whatsapp Channel</a></span>
                </div>

                <div class="contact-item">
                <i class="fa fa-envelope"></i>
                <span><b>Email: </b><a style="text-decoration: none; color: antiquewhite;" href="mailto:blocksized404@gmail.com?subject=Hello%20BlockSizedX&body=Hi,%20I%20want%20to%20know%20about%20your%20templates!">blocksized404@gmail.com</a></span>
                </div>
                <div class="contact-item">
                <i class="fa fa-whatsapp"></i>
                <span><b>Whatsapp Chat: </b> <a style="text-decoration: none; color: antiquewhite;" href="https://wa.me/919961550562">Click To Chat On Whatsapp </a></span>
                </div>
                <div class="contact-item">
                <i class="fa fa-map-marker"></i>
                <span><b>Location:</b> Kerala, India</span>
                </div>

                <div class="contact-item">
                <i class="fa fa-globe"></i>
                <span><b>Website:</b> <a style="text-decoration: none; color: antiquewhite;" href="https://blocksizedx.github.io">blocksizedx.github.io</a></span>
                </div>
            </div>

            <span id="comments"></span>
            <h2 class="sec-title">Comments & Reviews</h2>

            <div id="comment-section">
                <!-- User Auth -->
                <div id="auth-section" style="margin-bottom: 20px;">
                    <input type="text" id="userName" placeholder="Enter your name" style="padding: 8px; border-radius: 8px; border: none; margin-right: 10px;">
                    <button onclick="loginUser()" style="padding: 8px 15px; background: #ffd54c; border: none; border-radius: 8px; cursor: pointer;">Start Commenting</button>
                </div>

                <!-- Comment Form (hidden until auth) -->
                <form class="comment-form" id="comment-form" style="display: none;">
                    <textarea id="comment" placeholder="Write your comment..." rows="3" required></textarea>
                    <button type="submit">Post Comment</button>
                </form>

                <!-- Comments Display -->
                <div id="all-comments" class="comment-list"></div>
            </div>

        </div>




        <!--FOOTER-->
        <div class="footer">
            <div id="footer-flex-containser">
                <div id="footer-about">
                    <h3>BlockSizedX</h3>
                    <p>The best place to get projects, <br>templates, demos and much more.<br>With high quality and trust</p>
                    <!--UPDATE VER-->
                    <p style="color: rgb(126, 126, 126);">update_ver: 1.5  </p>
                </div>

                <div id="cont-details">
                    <h3>Contact Us</h3>
                    <a href="mailto:blocksized404@gmail.com?subject=Hello%20BlockSizedX&body=Hi,%20I%20want%20to%20know%20about%20your%20templates!">
                        <i class="fa fa-envelope"></i> blocksized404@gmail.com
                    </a><br>
                    <a href="https://whatsapp.com/channel/0029Vb6Ci3t4tRrsLpLiOf02"><i class="fa fa-whatsapp"></i> Whatsapp channel</a><br>
                    <a href="https://wa.me/919961550562"><i class="fa fa-whatsapp"></i> Contact On Whatsapp</a><br>
                </div>

                <div id="links">
                    <h3>Quick links</h3>
                    <a href="#HOME">homepage</a><br>
                    <a href="#projects">projects</a><br>
                    <a href="#templates">templates</a><br>
                    <a href="#about">about us</a><br>
                    <a href="#contact">contact us</a><br>
                </div>
            </div>
            <div id="cop-line"></div>
            <div id="copyrt">Copyright ¬© BlockSizedX 2025 | All rights reservd.</div>
            

        </div>
        <div class="chatbot-btn" id="chatbotBtn" title="Chat with us">
            <i class="fa fa-comments"></i>
        </div>

        <div class="chatbot-window" id="chatbotWindow" aria-hidden="true">
        <div class="chatbot-header">
            <div>BlockSizedX Bot</div>
            <div style="font-size:18px; cursor:pointer;" id="chatbotClose"><i class="fa fa-times"></i></div>
        </div>
        <div class="chatbot-messages" id="chatbotMessages">
            <div class="chatbot-empty-hint">Hi! How can I help you today?</div>
        </div>
        <div class="chatbot-input-area">
            <input type="text" id="chatInput" class="chatbot-input" placeholder="Type your question..." />
            <button id="chatSend" class="btn" style="padding:8px 12px; border-radius: 40%; background-color: rgb(255, 215, 35);"><i class="fa fa-paper-plane" aria-hidden="true"></i>
</button>
        </div>
        </div>





    <script>
        // Your Firebase Config
        const firebaseConfig = {
            apiKey: "AIzaSyD8YzEuKYAx7RxjckQikV2utU4R7Ym5g2w",
            authDomain: "blocksizedx-comment-sys.firebaseapp.com",
            projectId: "blocksizedx-comment-sys",
            storageBucket: "blocksizedx-comment-sys.firebasestorage.app",
            messagingSenderId: "524581279271",
            appId: "1:524581279271:web:fa462916f822a16f162002",
            measurementId: "G-K7F5ZH2CKC",
            databaseURL: "https://blocksizedx-comment-sys-default-rtdb.firebaseio.com/"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Comment System JavaScript
        let currentUser = null;

        // Load Comments FOR EVERYONE immediately
        function loadComments() {
            console.log("üî• Loading comments for everyone...");
            
            database.ref('comments').on('value', (snapshot) => {
                const comments = snapshot.val() || {};
                console.log("üì® Comments loaded:", comments);
                displayComments(comments);
            }, (error) => {
                console.error("‚ùå Error loading comments:", error);
            });
        }

        function displayComments(comments) {
            const commentsContainer = document.getElementById('all-comments');
            commentsContainer.innerHTML = '';
            
            if (Object.keys(comments).length === 0) {
                commentsContainer.innerHTML = '<p style="text-align: center; color: #888;">No comments yet. Be the first to comment!</p>';
                return;
            }
            
            // Convert to array and sort by timestamp (newest first)
            const commentsArray = Object.entries(comments)
                .sort(([,a], [,b]) => b.timestamp - a.timestamp);
            
            commentsArray.forEach(([commentId, comment]) => {
                const commentElement = createCommentElement(commentId, comment, false);
                commentsContainer.appendChild(commentElement);
            });
        }

        function createCommentElement(commentId, comment, isReply = false, parentId = null) {
            const commentDiv = document.createElement('div');
            commentDiv.className = isReply ? 'reply-item' : 'comment-item';
            commentDiv.dataset.commentId = commentId;
            if (parentId) commentDiv.dataset.parentId = parentId;
            
            const timeAgo = getTimeAgo(comment.timestamp);
            const isOwner = currentUser && comment.authorId === currentUser.id;
            const hasLiked = currentUser && comment.likedBy && comment.likedBy[currentUser.id];
            
            commentDiv.innerHTML = `
                <div class="comment-header">
                    <span class="comment-author">${comment.author}</span>
                    <span class="comment-time">${timeAgo}</span>
                </div>
                <div class="comment-text">${comment.text}</div>
                <div class="comment-actions">
                    <span class="comment-action-btn">
                        üëç ${comment.likes || 0}
                    </span>
                    ${currentUser ? `
                        <button class="comment-action-btn like-btn ${hasLiked ? 'liked' : ''}" 
                                onclick="toggleLike('${commentId}', ${isReply ? `'${parentId}'` : 'null'})">
                            ${hasLiked ? 'üëé Unlike' : 'üëç Like'}
                        </button>
                        <button class="comment-action-btn" onclick="toggleReplyForm('${commentId}')">
                            üí¨ Reply
                        </button>
                    ` : `
                        <span class="comment-action-btn" style="color: #888;">Login to interact</span>
                    `}
                    ${isOwner ? `<button class="comment-action-btn delete-btn" onclick="deleteComment('${commentId}', ${isReply ? `'${parentId}'` : 'null'})">üóëÔ∏è Delete</button>` : ''}
                </div>
                ${currentUser ? `
                <div class="reply-form" id="reply-form-${commentId}">
                    <textarea placeholder="Write your reply..." rows="2"></textarea>
                    <button onclick="postReply('${commentId}')">Post Reply</button>
                    <button onclick="toggleReplyForm('${commentId}')">Cancel</button>
                </div>
                ` : ''}
                <div class="replies" id="replies-${commentId}">
                    ${comment.replies ? Object.entries(comment.replies)
                        .sort(([,a], [,b]) => a.timestamp - b.timestamp)
                        .map(([replyId, reply]) => createCommentElement(replyId, reply, true, commentId).outerHTML)
                        .join('') : ''}
                </div>
            `;
            
            return commentDiv;
        }

        // User Authentication
        function loginUser() {
            const userName = document.getElementById('userName').value.trim();
            if (!userName) {
                alert('Please enter your name');
                return;
            }
            
            currentUser = {
                id: generateUserId(),
                name: userName
            };
            
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            document.getElementById('auth-section').style.display = 'none';
            document.getElementById('comment-form').style.display = 'block';
            // Reload to show interactive buttons
            loadComments();
        }

        function generateUserId() {
            return 'user_' + Math.random().toString(36).substr(2, 9);
        }

        // Comment Form Handling
        document.getElementById('comment-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const commentText = document.getElementById('comment').value.trim();
            
            if (!commentText) {
                alert('Please write a comment');
                return;
            }
            
            const comment = {
                id: generateCommentId(),
                author: currentUser.name,
                authorId: currentUser.id,
                text: commentText,
                timestamp: Date.now(),
                likes: 0,
                likedBy: {},
                replies: {}
            };
            
            database.ref('comments/' + comment.id).set(comment)
                .then(() => {
                    document.getElementById('comment').value = '';
                })
                .catch(error => {
                    console.error('Error posting comment:', error);
                });
        });

        function generateCommentId() {
            return 'comment_' + Date.now();
        }

        // Comment Actions
        function toggleReplyForm(commentId) {
            const form = document.getElementById(`reply-form-${commentId}`);
            form.style.display = form.style.display === 'block' ? 'none' : 'block';
        }

        function postReply(commentId) {
            const form = document.getElementById(`reply-form-${commentId}`);
            const textarea = form.querySelector('textarea');
            const replyText = textarea.value.trim();
            
            if (!replyText) {
                alert('Please write a reply');
                return;
            }
            
            const reply = {
                id: generateCommentId(),
                author: currentUser.name,
                authorId: currentUser.id,
                text: replyText,
                timestamp: Date.now(),
                likes: 0,
                likedBy: {},
                replies: {} // Can have nested replies too!
            };
            
            database.ref(`comments/${commentId}/replies/${reply.id}`).set(reply)
                .then(() => {
                    textarea.value = '';
                    form.style.display = 'none';
                })
                .catch(error => {
                    console.error('Error posting reply:', error);
                });
        }

        function toggleLike(commentId, parentId = null) {
            if (!currentUser) {
                alert('Please login to like comments');
                return;
            }
            
            const commentRef = parentId ? 
                database.ref(`comments/${parentId}/replies/${commentId}`) :
                database.ref(`comments/${commentId}`);
            
            commentRef.once('value').then(snapshot => {
                const comment = snapshot.val();
                const likedBy = comment.likedBy || {};
                const hasLiked = likedBy[currentUser.id];
                
                if (hasLiked) {
                    // Unlike
                    likedBy[currentUser.id] = false;
                    comment.likes = (comment.likes || 1) - 1;
                } else {
                    // Like
                    likedBy[currentUser.id] = true;
                    comment.likes = (comment.likes || 0) + 1;
                }
                
                comment.likedBy = likedBy;
                commentRef.update(comment);
            });
        }

        function deleteComment(commentId, parentId = null) {
            if (!confirm('Are you sure you want to delete this comment?')) return;
            
            if (parentId) {
                // Delete reply
                database.ref(`comments/${parentId}/replies/${commentId}`).remove();
            } else {
                // Delete main comment
                database.ref(`comments/${commentId}`).remove();
            }
        }

        // Utility Functions
        function getTimeAgo(timestamp) {
            const seconds = Math.floor((Date.now() - timestamp) / 1000);
            
            if (seconds < 60) return 'just now';
            if (seconds < 3600) return Math.floor(seconds / 60) + 'm ago';
            if (seconds < 86400) return Math.floor(seconds / 3600) + 'h ago';
            return Math.floor(seconds / 86400) + 'd ago';
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Load comments for EVERYONE immediately
            loadComments();
            
            // Check if user was already logged in
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                document.getElementById('auth-section').style.display = 'none';
                document.getElementById('comment-form').style.display = 'block';
                // Reload comments to show interactive buttons
                loadComments();
            }
        });

        // NAV BAR RESPONSIVE
        const toggle = document.getElementById('menu-toggle');
        const navLinks = document.getElementById('navlinks');

        toggle.addEventListener('click', () => {
            navLinks.classList.toggle('active');
        });

        // SCRIPT CHATBOT (unchanged)
        (function(){
            const chatbotBtn = document.getElementById('chatbotBtn');
            const chatbotWindow = document.getElementById('chatbotWindow');
            const chatbotClose = document.getElementById('chatbotClose');
            const chatMessages = document.getElementById('chatbotMessages');
            const chatInput = document.getElementById('chatInput');
            const chatSend = document.getElementById('chatSend');

            const responses = [
                {
                    keywords: ["whatsapp", "number", "phone number", "phone nomber"],
                    answer: "+91 9961550562 is whatsapp number. see you there!"
                },
                {
                    keywords: ["keywords", "words", "what is keywords", "search", "what to search", "functions", "questions", "ques", "quest", "find"],
                    answer: "You can ask me keywords like Whatsapp, number, templates, projects, games, about, contact and more."
                },
                {
                    keywords: ["hi", "hello", "hey", "yo", "whats up", "sup", "heyy", "hii", "hola", "greetings"],
                    answer: "Hey there üëã Welcome to BlockSizedX! Wanna check out some templates or games?"
                },
                {
                    keywords: ["nope", "no", "nothing", "onnulla", "onnula", "poda", "poo", "nothing else", "myre", "no da"],
                    answer: "Ahh okay, if u wanna know anything, just search for templates, games, etc!"
                },
                {
                    keywords: ["who are you", "about", "about site", "this website", "what is blocksizedx", "who made this", "developer", "who built", "owner", "creator"],
                    answer: "I'm BlockSizedX ‚Äî your friendly dev site üíª. I make web & game templates, playable mini-games, and cool open projects!"
                },
                {
                    keywords: ["template", "templates", "web templates", "html templates", "css templates", "game templates", "free templates", "cheap templates", "download templates", "buy templates", "sell templates"],
                    answer: "We've got both **web templates** and **game templates** ‚Äî free or super cheap üí∏. Check them on the Templates section!"
                },
                {
                    keywords: ["game", "games", "play game", "mini games", "test games", "try games", "play online", "arcade", "fun games", "try project"],
                    answer: "Yesss üéÆ you can play fun mini games right here on BlockSizedX! Just go to the 'Games' or 'Projects' page and have fun üòé"
                },
                {
                    keywords: ["project", "projects", "see projects", "my projects", "view projects", "portfolio", "what projects", "demo projects"],
                    answer: "You can explore all my projects on the **Projects page** ‚Äî from web apps to games and experiments üöÄ"
                },
                {
                    keywords: ["price", "cost", "free", "cheap", "paid", "buy", "purchase", "how much", "is it free", "download free", "pricing"],
                    answer: "Almost everything's **free or super cheap** üí∏ ‚Äî because I want devs like you to build cool stuff easily üòé"
                },
                {
                    keywords: ["contact", "message", "email", "mail", "support", "how to contact", "reach you", "chat", "talk", "feedback"],
                    answer: "You can contact me anytime at **blocksized404@gmail.com** or through my GitHub page üíå"
                },
                {
                    keywords: ["website", "github", "link", "site", "blocksizedx", "page", "blocksized", "repo", "repository"],
                    answer: "Visit my official site üåê **blocksizedx.github.io** and check all projects there!"
                },
                {
                    keywords: ["learn", "tutorial", "code", "source code", "how it works", "view code", "example", "open source"],
                    answer: "All templates & games are open-source üë®‚Äçüíª ‚Äî explore the code and learn! You'll find GitHub links on each project page."
                },
                {
                    keywords: ["new", "latest", "update", "recent", "new projects", "what's new", "recent upload"],
                    answer: "I keep updating BlockSizedX often ‚ö° ‚Äî check the homepage for latest uploads & projects!"
                },
                {
                    keywords: ["thanks", "thank you", "cool", "awesome", "nice", "good job", "love this", "great"],
                    answer: "Aww thanks üòÑ You're awesome too! Keep exploring BlockSizedX üí™"
                },
                {
                    keywords: ["help", "what can you do", "commands", "how to use", "how this works", "guide"],
                    answer: "You can ask me about templates, projects, games, or how to contact BlockSizedX üòé"
                },
                {
                    keywords: ["brother", "your brother", "about brother","aahil","aahi", "bro", "what is blocksizedx brother", "broo", "broother", "bad"],
                    answer: "Its my bro!,Aahil and he is a lil bit crazy haha. "
                },
            ];

            const fallback = "Sorry, I didn't get that üòÖ ‚Äî search fo keywords for please email us at blocksized404@gmail.com .";

            function formatTime(date){
                const h = date.getHours(), m = date.getMinutes();
                return (h<10?'0':'')+h + ":" + (m<10?'0':'')+m;
            }

            function appendMessage(text, who){
                const hint = chatMessages.querySelector('.chatbot-empty-hint');
                if (hint) hint.remove();

                const msg = document.createElement('div');
                msg.classList.add('chat-msg', who === 'user' ? 'user' : 'bot');
                msg.textContent = text;

                const ts = document.createElement('div');
                ts.classList.add('chat-timestamp');
                ts.textContent = formatTime(new Date());

                const wrap = document.createElement('div');
                wrap.style.display = 'flex';
                wrap.style.flexDirection = 'column';
                wrap.appendChild(msg);
                wrap.appendChild(ts);

                chatMessages.appendChild(wrap);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }

            function findResponse(userText){
                const txt = userText.toLowerCase();
                for (let obj of responses){
                for (let kw of obj.keywords){
                    if (txt.includes(kw)) return obj.answer;
                }
                }
                return null;
            }

            function handleSend(){
                const text = chatInput.value.trim();
                if (!text) return;
                appendMessage(text, 'user');
                chatInput.value = '';
                setTimeout(()=>{
                const reply = findResponse(text) || fallback;
                appendMessage(reply, 'bot');
                }, 400);
            }

            chatbotBtn.onclick = ()=>{
                const open = chatbotWindow.style.display === 'flex';
                chatbotWindow.style.display = open ? 'none' : 'flex';
                chatbotWindow.setAttribute('aria-hidden', open);
                if (!open) setTimeout(()=> chatInput.focus(), 150);
            };

            chatbotClose.onclick = ()=>{
                chatbotWindow.style.display = 'none';
                chatbotWindow.setAttribute('aria-hidden', 'true');
            };

            chatSend.onclick = handleSend;
            chatInput.addEventListener('keydown', e=>{
                if(e.key==='Enter'){ e.preventDefault(); handleSend(); }
            });

            setTimeout(()=>{
                if (!chatMessages.querySelector('.chat-msg')){
                appendMessage("Hello üëã I'm your assistant. How can I help?", 'bot');
                }
            }, 700);
        })();
    </script>

    </body>

</html>